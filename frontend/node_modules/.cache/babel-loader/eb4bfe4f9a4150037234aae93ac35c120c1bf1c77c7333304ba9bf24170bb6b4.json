{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\palla\\\\Desktop\\\\React\\\\hotelbooking\\\\src\\\\pages\\\\Booking.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function BookingPage() {\n  _s();\n  const {\n    roomId\n  } = useParams();\n  const navigate = useNavigate();\n  const [room, setRoom] = useState(null);\n  const [checkInDate, setCheckInDate] = useState(\"\");\n  const [checkOutDate, setCheckOutDate] = useState(\"\");\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    if (!user) {\n      alert(\"Please login to book a room.\");\n      navigate(\"/login\");\n      return;\n    }\n    axios.get(`http://localhost:8080/rooms/${roomId}`).then(res => setRoom(res.data)).catch(err => console.log(err));\n  }, [roomId, navigate]);\n  const calculateTotalPrice = () => {\n    if (!checkInDate || !checkOutDate || !room) return 0;\n    const start = new Date(checkInDate);\n    const end = new Date(checkOutDate);\n    const diffTime = end - start;\n    const diffDays = diffTime / (1000 * 60 * 60 * 24);\n    return diffDays > 0 ? diffDays * room.price : 0;\n  };\n  const handleBooking = () => {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    if (!user) {\n      alert(\"Please login to book.\");\n      return;\n    }\n    if (!checkInDate || !checkOutDate) {\n      alert(\"Please select both check-in and check-out dates.\");\n      return;\n    }\n    axios.post(\"http://localhost:8080/booking/book\", null, {\n      params: {\n        userId: user.id,\n        roomId,\n        checkInDate,\n        checkOutDate\n      }\n    }).then(() => {\n      alert(\"Room booked successfully!\");\n      navigate(\"/\");\n    }).catch(err => {\n      var _err$response;\n      return alert(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data) || \"Booking failed\");\n    });\n  };\n  if (!room) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading room details...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: \"600px\",\n      margin: \"20px auto\",\n      fontFamily: \"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"Booking for: \", room.roomType]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: room.imageUrl,\n      alt: room.roomType,\n      style: {\n        width: \"100%\",\n        height: \"250px\",\n        objectFit: \"cover\",\n        marginBottom: \"15px\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Price per night:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 10\n      }, this), \" \\u20B9\", room.price]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Check-in Date:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"date\",\n      value: checkInDate,\n      onChange: e => setCheckInDate(e.target.value),\n      style: {\n        display: \"block\",\n        marginBottom: \"10px\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Check-out Date:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"date\",\n      value: checkOutDate,\n      onChange: e => setCheckOutDate(e.target.value),\n      style: {\n        display: \"block\",\n        marginBottom: \"20px\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Total Price:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 10\n      }, this), \" \\u20B9\", calculateTotalPrice()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleBooking,\n      style: {\n        padding: \"10px 20px\",\n        backgroundColor: \"#0071c2\",\n        color: \"white\",\n        border: \"none\",\n        cursor: \"pointer\"\n      },\n      children: \"Book Now\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n}\n_s(BookingPage, \"IRBjQsr4h20+yXQtIreRyBDvnGU=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = BookingPage;\nvar _c;\n$RefreshReg$(_c, \"BookingPage\");","map":{"version":3,"names":["useState","useEffect","useParams","useNavigate","axios","jsxDEV","_jsxDEV","BookingPage","_s","roomId","navigate","room","setRoom","checkInDate","setCheckInDate","checkOutDate","setCheckOutDate","user","JSON","parse","localStorage","getItem","alert","get","then","res","data","catch","err","console","log","calculateTotalPrice","start","Date","end","diffTime","diffDays","price","handleBooking","post","params","userId","id","_err$response","response","children","fileName","_jsxFileName","lineNumber","columnNumber","style","maxWidth","margin","fontFamily","roomType","src","imageUrl","alt","width","height","objectFit","marginBottom","type","value","onChange","e","target","display","onClick","padding","backgroundColor","color","border","cursor","_c","$RefreshReg$"],"sources":["C:/Users/palla/Desktop/React/hotelbooking/src/pages/Booking.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nexport default function BookingPage() {\r\n  const { roomId } = useParams();\r\n  const navigate = useNavigate();\r\n  const [room, setRoom] = useState(null);\r\n  const [checkInDate, setCheckInDate] = useState(\"\");\r\n  const [checkOutDate, setCheckOutDate] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const user = JSON.parse(localStorage.getItem(\"user\"));\r\n    if (!user) {\r\n      alert(\"Please login to book a room.\");\r\n      navigate(\"/login\");\r\n      return;\r\n    }\r\n\r\n    axios.get(`http://localhost:8080/rooms/${roomId}`)\r\n      .then(res => setRoom(res.data))\r\n      .catch(err => console.log(err));\r\n  }, [roomId, navigate]);\r\n\r\n  const calculateTotalPrice = () => {\r\n    if (!checkInDate || !checkOutDate || !room) return 0;\r\n    const start = new Date(checkInDate);\r\n    const end = new Date(checkOutDate);\r\n    const diffTime = end - start;\r\n    const diffDays = diffTime / (1000 * 60 * 60 * 24);\r\n    return diffDays > 0 ? diffDays * room.price : 0;\r\n  };\r\n\r\n  const handleBooking = () => {\r\n    const user = JSON.parse(localStorage.getItem(\"user\"));\r\n    if (!user) {\r\n      alert(\"Please login to book.\");\r\n      return;\r\n    }\r\n\r\n    if (!checkInDate || !checkOutDate) {\r\n      alert(\"Please select both check-in and check-out dates.\");\r\n      return;\r\n    }\r\n\r\n    axios.post(\"http://localhost:8080/booking/book\", null, {\r\n      params: {\r\n        userId: user.id,\r\n        roomId,\r\n        checkInDate,\r\n        checkOutDate\r\n      }\r\n    })\r\n      .then(() => {\r\n        alert(\"Room booked successfully!\");\r\n        navigate(\"/\");\r\n      })\r\n      .catch(err => alert(err.response?.data || \"Booking failed\"));\r\n  };\r\n\r\n  if (!room) return <p>Loading room details...</p>;\r\n\r\n  return (\r\n    <div style={{ maxWidth: \"600px\", margin: \"20px auto\", fontFamily: \"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif\" }}>\r\n      <h2>Booking for: {room.roomType}</h2>\r\n      <img src={room.imageUrl} alt={room.roomType} style={{ width: \"100%\", height: \"250px\", objectFit: \"cover\", marginBottom: \"15px\" }} />\r\n      <p><strong>Price per night:</strong> ₹{room.price}</p>\r\n\r\n      <label>Check-in Date:</label>\r\n      <input type=\"date\" value={checkInDate} onChange={(e) => setCheckInDate(e.target.value)} style={{ display: \"block\", marginBottom: \"10px\" }} />\r\n\r\n      <label>Check-out Date:</label>\r\n      <input type=\"date\" value={checkOutDate} onChange={(e) => setCheckOutDate(e.target.value)} style={{ display: \"block\", marginBottom: \"20px\" }} />\r\n\r\n      <p><strong>Total Price:</strong> ₹{calculateTotalPrice()}</p>\r\n\r\n      <button onClick={handleBooking} style={{ padding: \"10px 20px\", backgroundColor: \"#0071c2\", color: \"white\", border: \"none\", cursor: \"pointer\" }}>\r\n        Book Now\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}